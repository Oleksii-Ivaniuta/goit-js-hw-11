{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n// You can use this class for make requests in pixabay.com, for get or set parameters you can use getters or setters of the parameter you need.\nclass FetchData {\n  #q;\n  #key;\n  #image_type;\n  #orientation;\n  #safesearch;\n  #url;\n\n  constructor(params) {\n    this.#q = params.q;\n    this.#key = params.key;\n    this.#image_type = params.image_type;\n    this.#orientation = params.orientation;\n    this.#safesearch = params.safesearch;\n      this.#url = params.url;\n  }\n\n    // function for make request from server\n  getData() {\n    const params = {\n      key: this.#key,\n      q: this.#q,\n      image_type: this.#image_type,\n      orientation: this.#orientation,\n        safesearch: this.#safesearch,\n    };\n      \n    return axios.get(this.#url, { params });\n  }\n// get and set of query\n  get q() {\n    return this.#q;\n  }\n  set q(newQ) {\n    this.#q = newQ;\n  }\n// get and set of your personal key\n  get key() {\n    return this.#key;\n  }\n  set key(newKey) {\n    this.#key = newKey;\n  }\n// get and set of image type\n  get imageType() {\n    return this.#image_type;\n  }\n  set imageType(newImageType) {\n    this.#image_type = newImageType;\n  }\n//get and set of image orientation\n  get orientation() {\n    return this.#orientation;\n  }\n  set orientation(newOrientation) {\n    this.#orientation = newOrientation;\n  }\n// get and set of safeseach\n  get safesearch() {\n    return this.#safesearch;\n  }\n  set safesearch(newSafesearch) {\n    this.#safesearch = newSafesearch;\n  }\n    // get and set of url\n    get url() {\n        return this.#url;\n    }\n    set url(newUrl) {\n        this.#url = newUrl;\n    }\n}\n\nexport default FetchData;","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n// before creating markup, set the target directory using setter renderDiv().\nclass RenderSlb {\n    #renderDiv\n    constructor(params) {\n        this.array = params;\n        this.#renderDiv = null;\n    }\n\n    // setter for choose element to make new gallery\n    set renderDiv(newDiv) {\n        this.#renderDiv = newDiv;\n    }\n\n    // function for make markup and gallery\n    createMarkup() {\n\n        // clean list\n        this.#renderDiv.innerHTML = \"\";\n\n        // make new markup\n        const markup = this.array.map(i => {\n            return `<li class=\"gallery-item\">\n    <a class=\"image-link\" href=\"${i.largeImageURL}\"><img class=\"image\" src=\"${i.webformatURL}\" alt=\"${i.tags}\" title=\"\"/></a>\n    <ul class=\"image-descr-list\">\n<li class=\"descr-item\">Likes<span class=\"descr-span\">${i.likes}</span></li>\n<li class=\"descr-item\">Views<span class=\"descr-span\">${i.views}</span></li>\n<li class=\"descr-item\">Comments<span class=\"descr-span\">${i.comments}</span></li>\n<li class=\"descr-item\">Downloads<span class=\"descr-span\">${i.downloads}</span></li>\n    </ul>\n    </li>`\n        }).join(\"\");\n\n        // add new markup to list\n        this.#renderDiv.insertAdjacentHTML(\"beforeend\", markup);\n\n        // create gallery with simplelightbox\n        let simplelightbox = new SimpleLightbox(\".gallery-item a\");\n        simplelightbox.refresh();\n    }\n};\n\nexport default RenderSlb;\n\n\n","import FetchData from './js/pixabay-api';\nimport RenderSlb from './js/render-functions';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n//find elements set all relations to elements\nconst gallery = document.querySelector(\".gallery\");\nconst form = document.querySelector(\".form\");\nconst input = form.elements[0];\ninput.classList.add(\"input\")\nconst btn = form.elements[1];\nbtn.classList.add(\"button\");\nconst loader = document.querySelector(\".loader\");\nloader.style.display = \"none\";\n\n// new instance of the class FetchData from paxabay api\nconst fetchPhoto = new FetchData({});\n\n// set standart params for pixabay-api described in homework\nfetchPhoto.key = \"49512194-f753c2f34a7e7dbbd609db53f\";\nfetchPhoto.q = \"\";\nfetchPhoto.imageType = \"photo\";\nfetchPhoto.orientation = \"horizontal\";\nfetchPhoto.safesearch = true;\nfetchPhoto.url = \"https://pixabay.com/api/\";\n\n// create new instance for rendering pictures on our page\nconst renderPhoto = new RenderSlb([]);\n\n// making gallery using input value\nbtn.addEventListener(\"click\", makeGallery);\n\nfunction makeGallery(event) {\n    event.preventDefault();\n    renderPhoto.renderDiv = gallery;\n    loader.style.display = \"flex\";\n    fetchPhoto.q = input.value;\n    input.value = \"\";\n    // check for empty query\n    if (fetchPhoto.q === \"\") {\n        iziToast.error({\n            message: 'Write your something you want to see',\n            position: 'topRight',\n        });\n        loader.style.display = \"none\";\n        return;\n    };\n    // make request from server\n    fetchPhoto.getData()\n        .then(data => {\n        // check for pictures avalible\n        if (data.data.hits.length === 0) {\n            loader.style.display = \"none\";\n            iziToast.error({\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            });\n            gallery.innerHTML = \"\";\n            input.value = \"\";\n            fetchPhoto.q = \"\";\n            return;\n        }\n        renderPhoto.array = data.data.hits;\n        renderPhoto.createMarkup(renderPhoto.array);\n            loader.style.display = \"none\";\n            input.value = \"\";\n            fetchPhoto.q = \"\";\n            return;\n        })\n        .catch(error => {\n        iziToast.error({\n            message: \"Bad request\",\n            position: \"topRight\",\n            }); \n            loader.style.display = \"none\";\n            input.value = \"\";\n            fetchPhoto.q = \"\";\n        return;\n    });\n    \n}\n\n\n"],"names":["FetchData","params","__privateAdd","_q","_key","_image_type","_orientation","_safesearch","_url","__privateSet","__privateGet","axios","newQ","newKey","newImageType","newOrientation","newSafesearch","newUrl","RenderSlb","_renderDiv","newDiv","markup","i","SimpleLightbox","gallery","form","input","btn","loader","fetchPhoto","renderPhoto","makeGallery","event","iziToast","data","error"],"mappings":"+lCAEA,MAAMA,CAAU,CAQd,YAAYC,EAAQ,CAPpBC,EAAA,KAAAC,GACAD,EAAA,KAAAE,GACAF,EAAA,KAAAG,GACAH,EAAA,KAAAI,GACAJ,EAAA,KAAAK,GACAL,EAAA,KAAAM,GAGEC,EAAA,KAAKN,EAAKF,EAAO,GACjBQ,EAAA,KAAKL,EAAOH,EAAO,KACnBQ,EAAA,KAAKJ,EAAcJ,EAAO,YAC1BQ,EAAA,KAAKH,EAAeL,EAAO,aAC3BQ,EAAA,KAAKF,EAAcN,EAAO,YACxBQ,EAAA,KAAKD,EAAOP,EAAO,IACtB,CAGD,SAAU,CACR,MAAMA,EAAS,CACb,IAAKS,EAAA,KAAKN,GACV,EAAGM,EAAA,KAAKP,GACR,WAAYO,EAAA,KAAKL,GACjB,YAAaK,EAAA,KAAKJ,GAChB,WAAYI,EAAA,KAAKH,EACzB,EAEI,OAAOI,EAAM,IAAID,EAAA,KAAKF,GAAM,CAAE,OAAAP,CAAM,CAAE,CACvC,CAED,IAAI,GAAI,CACN,OAAOS,EAAA,KAAKP,EACb,CACD,IAAI,EAAES,EAAM,CACVH,EAAA,KAAKN,EAAKS,EACX,CAED,IAAI,KAAM,CACR,OAAOF,EAAA,KAAKN,EACb,CACD,IAAI,IAAIS,EAAQ,CACdJ,EAAA,KAAKL,EAAOS,EACb,CAED,IAAI,WAAY,CACd,OAAOH,EAAA,KAAKL,EACb,CACD,IAAI,UAAUS,EAAc,CAC1BL,EAAA,KAAKJ,EAAcS,EACpB,CAED,IAAI,aAAc,CAChB,OAAOJ,EAAA,KAAKJ,EACb,CACD,IAAI,YAAYS,EAAgB,CAC9BN,EAAA,KAAKH,EAAeS,EACrB,CAED,IAAI,YAAa,CACf,OAAOL,EAAA,KAAKH,EACb,CACD,IAAI,WAAWS,EAAe,CAC5BP,EAAA,KAAKF,EAAcS,EACpB,CAEC,IAAI,KAAM,CACN,OAAON,EAAA,KAAKF,EACf,CACD,IAAI,IAAIS,EAAQ,CACZR,EAAA,KAAKD,EAAOS,EACf,CACL,CAtEEd,EAAA,YACAC,EAAA,YACAC,EAAA,YACAC,EAAA,YACAC,EAAA,YACAC,EAAA,kBCJF,MAAMU,CAAU,CAEZ,YAAYjB,EAAQ,CADpBC,EAAA,KAAAiB,GAEI,KAAK,MAAQlB,EACbQ,EAAA,KAAKU,EAAa,KACrB,CAGD,IAAI,UAAUC,EAAQ,CAClBX,EAAA,KAAKU,EAAaC,EACrB,CAGD,cAAe,CAGXV,EAAA,KAAKS,GAAW,UAAY,GAG5B,MAAME,EAAS,KAAK,MAAM,IAAIC,GACnB;AAAA,kCACeA,EAAE,aAAa,6BAA6BA,EAAE,YAAY,UAAUA,EAAE,IAAI;AAAA;AAAA,uDAErDA,EAAE,KAAK;AAAA,uDACPA,EAAE,KAAK;AAAA,0DACJA,EAAE,QAAQ;AAAA,2DACTA,EAAE,SAAS;AAAA;AAAA,UAG7D,EAAE,KAAK,EAAE,EAGVZ,EAAA,KAAKS,GAAW,mBAAmB,YAAaE,CAAM,EAGjC,IAAIE,EAAe,iBAAiB,EAC1C,QAAO,CACzB,CACL,CArCIJ,EAAA,YCCJ,MAAMK,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,SAAS,CAAC,EAC7BC,EAAM,UAAU,IAAI,OAAO,EAC3B,MAAMC,EAAMF,EAAK,SAAS,CAAC,EAC3BE,EAAI,UAAU,IAAI,QAAQ,EAC1B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OAGvB,MAAMC,EAAa,IAAI7B,EAAU,CAAA,CAAE,EAGnC6B,EAAW,IAAM,qCACjBA,EAAW,EAAI,GACfA,EAAW,UAAY,QACvBA,EAAW,YAAc,aACzBA,EAAW,WAAa,GACxBA,EAAW,IAAM,2BAGjB,MAAMC,EAAc,IAAIZ,EAAU,CAAA,CAAE,EAGpCS,EAAI,iBAAiB,QAASI,CAAW,EAEzC,SAASA,EAAYC,EAAO,CAOxB,GANAA,EAAM,eAAc,EACpBF,EAAY,UAAYN,EACxBI,EAAO,MAAM,QAAU,OACvBC,EAAW,EAAIH,EAAM,MACrBA,EAAM,MAAQ,GAEVG,EAAW,IAAM,GAAI,CACrBI,EAAS,MAAM,CACX,QAAS,uCACT,SAAU,UACtB,CAAS,EACDL,EAAO,MAAM,QAAU,OACvB,MAER,CACIC,EAAW,QAAS,EACf,KAAKK,GAAQ,CAEd,GAAIA,EAAK,KAAK,KAAK,SAAW,EAAG,CAC7BN,EAAO,MAAM,QAAU,OACvBK,EAAS,MAAM,CACf,QAAS,2EACT,SAAU,UACtB,CAAa,EACDT,EAAQ,UAAY,GACpBE,EAAM,MAAQ,GACdG,EAAW,EAAI,GACf,MACH,CACDC,EAAY,MAAQI,EAAK,KAAK,KAC9BJ,EAAY,aAAaA,EAAY,KAAK,EACtCF,EAAO,MAAM,QAAU,OACvBF,EAAM,MAAQ,GACdG,EAAW,EAAI,EAE3B,CAAS,EACA,MAAMM,GAAS,CAChBF,EAAS,MAAM,CACX,QAAS,cACT,SAAU,UACtB,CAAa,EACDL,EAAO,MAAM,QAAU,OACvBF,EAAM,MAAQ,GACdG,EAAW,EAAI,EAE3B,CAAK,CAEL"}